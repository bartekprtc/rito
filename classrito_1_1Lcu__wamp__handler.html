<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Rito: rito::Lcu_wamp_handler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Rito
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacerito.html">rito</a></li><li class="navelem"><a class="el" href="classrito_1_1Lcu__wamp__handler.html">Lcu_wamp_handler</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classrito_1_1Lcu__wamp__handler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">rito::Lcu_wamp_handler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Handler for LCU connection over websocket with WAMP protocol. Wrapper for <a class="el" href="classrito_1_1Lcu__websocket__handler.html" title="Handler for websocket communication with LCU (League of Legends client).">Lcu_websocket_handler</a> class.  
 <a href="classrito_1_1Lcu__wamp__handler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="lcu__wamp__handler_8h_source.html">lcu_wamp_handler.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a73b2fdafb00f275401d4e9fd677fd70f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrito_1_1Lcu__wamp__handler.html#a73b2fdafb00f275401d4e9fd677fd70f">register_on_connected_callback</a> (<a class="el" href="namespacerito.html#a1778ee7a785dccf226a5dc2f28a46ccb">Connection_callback</a> on_connected) noexcept</td></tr>
<tr class="memdesc:a73b2fdafb00f275401d4e9fd677fd70f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers callback function for LCU connected event.  <a href="classrito_1_1Lcu__wamp__handler.html#a73b2fdafb00f275401d4e9fd677fd70f">More...</a><br /></td></tr>
<tr class="separator:a73b2fdafb00f275401d4e9fd677fd70f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06e0495d5f6392f34fe6a25e169be891"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrito_1_1Lcu__wamp__handler.html#a06e0495d5f6392f34fe6a25e169be891">register_on_disconnected_callback</a> (<a class="el" href="namespacerito.html#a1778ee7a785dccf226a5dc2f28a46ccb">Connection_callback</a> on_disconnected) noexcept</td></tr>
<tr class="memdesc:a06e0495d5f6392f34fe6a25e169be891"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers callback function for LCU disconnected event.  <a href="classrito_1_1Lcu__wamp__handler.html#a06e0495d5f6392f34fe6a25e169be891">More...</a><br /></td></tr>
<tr class="separator:a06e0495d5f6392f34fe6a25e169be891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11a94d11f7aa2ed4149464bdc2f9677e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrito_1_1Lcu__wamp__handler.html#a11a94d11f7aa2ed4149464bdc2f9677e">register_call_result_callback</a> (<a class="el" href="namespacerito.html#acfafc9c26a73a2dc3c6694bd900ddff4">Wamp_call_result_callback</a> on_call_result) noexcept</td></tr>
<tr class="memdesc:a11a94d11f7aa2ed4149464bdc2f9677e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers callback function for CALL.RESULT message received.  <a href="classrito_1_1Lcu__wamp__handler.html#a11a94d11f7aa2ed4149464bdc2f9677e">More...</a><br /></td></tr>
<tr class="separator:a11a94d11f7aa2ed4149464bdc2f9677e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1a89c3297cbf7dbfa2fd6a24387bfad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrito_1_1Lcu__wamp__handler.html#ad1a89c3297cbf7dbfa2fd6a24387bfad">register_call_error_callback</a> (<a class="el" href="namespacerito.html#a8d462dc69f8e52e3e2e24ee89db92e29">Wamp_call_error_callback</a> on_call_error) noexcept</td></tr>
<tr class="memdesc:ad1a89c3297cbf7dbfa2fd6a24387bfad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers callback function for CALL.ERROR message received.  <a href="classrito_1_1Lcu__wamp__handler.html#ad1a89c3297cbf7dbfa2fd6a24387bfad">More...</a><br /></td></tr>
<tr class="separator:ad1a89c3297cbf7dbfa2fd6a24387bfad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5a48c2139fc057b3d94d0975b7bbc34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrito_1_1Lcu__wamp__handler.html#af5a48c2139fc057b3d94d0975b7bbc34">register_event_callback</a> (<a class="el" href="namespacerito.html#aeae2ae1c48628a0079132fe362b94c68">Wamp_event_callback</a> on_event) noexcept</td></tr>
<tr class="memdesc:af5a48c2139fc057b3d94d0975b7bbc34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers callback function for EVENT message received.  <a href="classrito_1_1Lcu__wamp__handler.html#af5a48c2139fc057b3d94d0975b7bbc34">More...</a><br /></td></tr>
<tr class="separator:af5a48c2139fc057b3d94d0975b7bbc34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a167b789af96285015dc25de1720cabe7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrito_1_1Lcu__wamp__handler.html#a167b789af96285015dc25de1720cabe7">run</a> () noexcept</td></tr>
<tr class="memdesc:a167b789af96285015dc25de1720cabe7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts internal polling loop. Will not return unless <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a7a01e1f6ea9dc64e77a164a362223fdb" title="Stops internal loop. Drops LCU connection (if such connection was established).">stop()</a> is called from another thread.  <a href="classrito_1_1Lcu__wamp__handler.html#a167b789af96285015dc25de1720cabe7">More...</a><br /></td></tr>
<tr class="separator:a167b789af96285015dc25de1720cabe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a01e1f6ea9dc64e77a164a362223fdb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrito_1_1Lcu__wamp__handler.html#a7a01e1f6ea9dc64e77a164a362223fdb">stop</a> () noexcept</td></tr>
<tr class="memdesc:a7a01e1f6ea9dc64e77a164a362223fdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops internal loop. Drops LCU connection (if such connection was established).  <a href="classrito_1_1Lcu__wamp__handler.html#a7a01e1f6ea9dc64e77a164a362223fdb">More...</a><br /></td></tr>
<tr class="separator:a7a01e1f6ea9dc64e77a164a362223fdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8cacbd983b5b168d60b16a1296a0a0f"><td class="memTemplParams" colspan="2">template&lt;Convertible_to_string... Args&gt; </td></tr>
<tr class="memitem:ad8cacbd983b5b168d60b16a1296a0a0f"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classrito_1_1Lcu__wamp__handler.html#ad8cacbd983b5b168d60b16a1296a0a0f">call</a> (const std::string &amp;id, const std::string &amp;function, Args &amp;&amp;... args) noexcept</td></tr>
<tr class="memdesc:ad8cacbd983b5b168d60b16a1296a0a0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends message of WAMP type CALL to the LCU (if it's connected).  <a href="classrito_1_1Lcu__wamp__handler.html#ad8cacbd983b5b168d60b16a1296a0a0f">More...</a><br /></td></tr>
<tr class="separator:ad8cacbd983b5b168d60b16a1296a0a0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8406334192c51749fd73ad54e2dfd3f5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrito_1_1Lcu__wamp__handler.html#a8406334192c51749fd73ad54e2dfd3f5">subscribe</a> (const std::string &amp;event) noexcept</td></tr>
<tr class="memdesc:a8406334192c51749fd73ad54e2dfd3f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends message of WAMP type SUBSCRIBE to the LCU (if it's connected).  <a href="classrito_1_1Lcu__wamp__handler.html#a8406334192c51749fd73ad54e2dfd3f5">More...</a><br /></td></tr>
<tr class="separator:a8406334192c51749fd73ad54e2dfd3f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29053ba3fb269bc603c53a982bfc176f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrito_1_1Lcu__wamp__handler.html#a29053ba3fb269bc603c53a982bfc176f">unsubscribe</a> (const std::string &amp;event) noexcept</td></tr>
<tr class="memdesc:a29053ba3fb269bc603c53a982bfc176f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends message of WAMP type UNSUBSCRIBE to the LCU (if it's connected).  <a href="classrito_1_1Lcu__wamp__handler.html#a29053ba3fb269bc603c53a982bfc176f">More...</a><br /></td></tr>
<tr class="separator:a29053ba3fb269bc603c53a982bfc176f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handler for LCU connection over websocket with WAMP protocol. Wrapper for <a class="el" href="classrito_1_1Lcu__websocket__handler.html" title="Handler for websocket communication with LCU (League of Legends client).">Lcu_websocket_handler</a> class. </p>
<p>Handles websocket connection by messages specified by WAMP protocol. Maintains LCU connection automatically in the background. Offers subscription for five event types:</p><ul>
<li>Connected to LCU,</li>
<li>Disconnected from LCU,</li>
<li>Message received (of WAMP type CALL.RESULT),</li>
<li>Message received (of WAMP type CALL.ERROR),</li>
<li>Message received (of WAMP type EVENT).</li>
</ul>
<p>There are two ways (not mutually exclusive - you may use both at the same time) to use this class:</p><ul>
<li>using <a class="el" href="classrito_1_1Lcu__wamp__handler.html#ad8cacbd983b5b168d60b16a1296a0a0f" title="Sends message of WAMP type CALL to the LCU (if it&#39;s connected).">call()</a> method will result in response being received either via on_call_result callback or via on_call_error callback,</li>
<li>using <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a8406334192c51749fd73ad54e2dfd3f5" title="Sends message of WAMP type SUBSCRIBE to the LCU (if it&#39;s connected).">subscribe()</a> and <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a29053ba3fb269bc603c53a982bfc176f" title="Sends message of WAMP type UNSUBSCRIBE to the LCU (if it&#39;s connected).">unsubscribe()</a> to manage subscriptions will result in registered events being received via on_event callback.</li>
</ul>
<p>This class requires at least two threads: one for running the internal loop by calling <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a167b789af96285015dc25de1720cabe7" title="Starts internal polling loop. Will not return unless stop() is called from another thread.">run()</a> and the other one for sending messages (via <a class="el" href="classrito_1_1Lcu__wamp__handler.html#ad8cacbd983b5b168d60b16a1296a0a0f" title="Sends message of WAMP type CALL to the LCU (if it&#39;s connected).">call()</a>, <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a8406334192c51749fd73ad54e2dfd3f5" title="Sends message of WAMP type SUBSCRIBE to the LCU (if it&#39;s connected).">subscribe()</a> and <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a29053ba3fb269bc603c53a982bfc176f" title="Sends message of WAMP type UNSUBSCRIBE to the LCU (if it&#39;s connected).">unsubscribe()</a>) and stopping the loop (via <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a7a01e1f6ea9dc64e77a164a362223fdb" title="Stops internal loop. Drops LCU connection (if such connection was established).">stop()</a>) if necessary. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ad8cacbd983b5b168d60b16a1296a0a0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8cacbd983b5b168d60b16a1296a0a0f">&#9670;&nbsp;</a></span>call()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;Convertible_to_string... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool rito::Lcu_wamp_handler::call </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends message of WAMP type CALL to the LCU (if it's connected). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>- ID of the CALL request. If response is received, it will have the same ID. </td></tr>
    <tr><td class="paramname">function</td><td>- LCU function to be invoked. </td></tr>
    <tr><td class="paramname">args</td><td>- parameters of the LCU function. They should be passed in the same order they're expected by the LCU function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if message is sent successfully, false otherwise.</dd></dl>
<p>This method sends message to LCU formatted as WAMP CALL message. Expected response is either CALL.RESULT or CALL.ERROR, depending on whether CALL is successful.</p>
<p>This method should be called only if another thread has called <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a167b789af96285015dc25de1720cabe7" title="Starts internal polling loop. Will not return unless stop() is called from another thread.">run()</a>. If <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a167b789af96285015dc25de1720cabe7" title="Starts internal polling loop. Will not return unless stop() is called from another thread.">run()</a> was not called, there is no connection to LCU. Messages are not queued.</p>
<p>This method should be called from separate thread.</p>
<dl class="section note"><dt>Note</dt><dd>Do not call this method from callback functions registered for LCU connected and LCU disconnected events (via <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a73b2fdafb00f275401d4e9fd677fd70f" title="Registers callback function for LCU connected event.">register_on_connected_callback()</a> and <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a06e0495d5f6392f34fe6a25e169be891" title="Registers callback function for LCU disconnected event.">register_on_disconnected_callback()</a> methods). This will cause a deadlock. </dd></dl>

</div>
</div>
<a id="ad1a89c3297cbf7dbfa2fd6a24387bfad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1a89c3297cbf7dbfa2fd6a24387bfad">&#9670;&nbsp;</a></span>register_call_error_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rito::Lcu_wamp_handler::register_call_error_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacerito.html#a8d462dc69f8e52e3e2e24ee89db92e29">Wamp_call_error_callback</a>&#160;</td>
          <td class="paramname"><em>on_call_error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers callback function for CALL.ERROR message received. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">on_call_error</td><td>- callback function.</td></tr>
  </table>
  </dd>
</dl>
<p>Registers callback function for message received. Once callback function is registered, LCU is connected and <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a167b789af96285015dc25de1720cabe7" title="Starts internal polling loop. Will not return unless stop() is called from another thread.">run()</a> method is called, registered callback will be called every time CALL.ERROR message is received over websocket. ID, error type and error description of received message will be passed as parameters to registered callback function. Callback is called from the same thread that called <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a167b789af96285015dc25de1720cabe7" title="Starts internal polling loop. Will not return unless stop() is called from another thread.">run()</a>.</p>
<p>Registered callback should be non-blocking and should take as little time to execute as possible, as it will be called synchronously. </p>

</div>
</div>
<a id="a11a94d11f7aa2ed4149464bdc2f9677e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11a94d11f7aa2ed4149464bdc2f9677e">&#9670;&nbsp;</a></span>register_call_result_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rito::Lcu_wamp_handler::register_call_result_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacerito.html#acfafc9c26a73a2dc3c6694bd900ddff4">Wamp_call_result_callback</a>&#160;</td>
          <td class="paramname"><em>on_call_result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers callback function for CALL.RESULT message received. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">on_call_result</td><td>- callback function.</td></tr>
  </table>
  </dd>
</dl>
<p>Registers callback function for message received. Once callback function is registered, LCU is connected and <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a167b789af96285015dc25de1720cabe7" title="Starts internal polling loop. Will not return unless stop() is called from another thread.">run()</a> method is called, registered callback will be called every time CALL.RESULT message is received over websocket. ID and details of received message will be passed as parameters to registered callback function. Callback is called from the same thread that called <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a167b789af96285015dc25de1720cabe7" title="Starts internal polling loop. Will not return unless stop() is called from another thread.">run()</a>.</p>
<p>Registered callback should be non-blocking and should take as little time to execute as possible, as it will be called synchronously. </p>

</div>
</div>
<a id="af5a48c2139fc057b3d94d0975b7bbc34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5a48c2139fc057b3d94d0975b7bbc34">&#9670;&nbsp;</a></span>register_event_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rito::Lcu_wamp_handler::register_event_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacerito.html#aeae2ae1c48628a0079132fe362b94c68">Wamp_event_callback</a>&#160;</td>
          <td class="paramname"><em>on_event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers callback function for EVENT message received. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">on_event</td><td>- callback function.</td></tr>
  </table>
  </dd>
</dl>
<p>Registers callback function for message received. Once callback function is registered, LCU is connected and <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a167b789af96285015dc25de1720cabe7" title="Starts internal polling loop. Will not return unless stop() is called from another thread.">run()</a> method is called, registered callback will be called every time EVENT message is received over websocket. Event name and its data (taken from received message) will be passed as parameters to registered callback function. Callback is called from the same thread that called <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a167b789af96285015dc25de1720cabe7" title="Starts internal polling loop. Will not return unless stop() is called from another thread.">run()</a>.</p>
<p>Registered callback should be non-blocking and should take as little time to execute as possible, as it will be called synchronously. </p>

</div>
</div>
<a id="a73b2fdafb00f275401d4e9fd677fd70f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73b2fdafb00f275401d4e9fd677fd70f">&#9670;&nbsp;</a></span>register_on_connected_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rito::Lcu_wamp_handler::register_on_connected_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacerito.html#a1778ee7a785dccf226a5dc2f28a46ccb">Connection_callback</a>&#160;</td>
          <td class="paramname"><em>on_connected</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers callback function for LCU connected event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">on_connected</td><td>- callback function.</td></tr>
  </table>
  </dd>
</dl>
<p>Registers callback function for LCU connected event. Once callback function is registered and <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a167b789af96285015dc25de1720cabe7" title="Starts internal polling loop. Will not return unless stop() is called from another thread.">run()</a> method is called, registered callback will be called every time LCU is found and connected to. Callback is called from the same thread that called <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a167b789af96285015dc25de1720cabe7" title="Starts internal polling loop. Will not return unless stop() is called from another thread.">run()</a>.</p>
<p>Registered callback should be non-blocking and should take as little time to execute as possible, as it will be called synchronously. </p>

</div>
</div>
<a id="a06e0495d5f6392f34fe6a25e169be891"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06e0495d5f6392f34fe6a25e169be891">&#9670;&nbsp;</a></span>register_on_disconnected_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rito::Lcu_wamp_handler::register_on_disconnected_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacerito.html#a1778ee7a785dccf226a5dc2f28a46ccb">Connection_callback</a>&#160;</td>
          <td class="paramname"><em>on_disconnected</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers callback function for LCU disconnected event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">on_disconnected</td><td>- callback function.</td></tr>
  </table>
  </dd>
</dl>
<p>Registers callback function for LCU disconnected event. Once callback function is registered and <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a167b789af96285015dc25de1720cabe7" title="Starts internal polling loop. Will not return unless stop() is called from another thread.">run()</a> method is called, registered callback will be called every time LCU is disconnected from. Callback is called from the same thread that called <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a167b789af96285015dc25de1720cabe7" title="Starts internal polling loop. Will not return unless stop() is called from another thread.">run()</a>.</p>
<p>Registered callback should be non-blocking and should take as little time to execute as possible, as it will be called synchronously. </p>

</div>
</div>
<a id="a167b789af96285015dc25de1720cabe7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a167b789af96285015dc25de1720cabe7">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rito::Lcu_wamp_handler::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Starts internal polling loop. Will not return unless <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a7a01e1f6ea9dc64e77a164a362223fdb" title="Stops internal loop. Drops LCU connection (if such connection was established).">stop()</a> is called from another thread. </p>
<p>This method runs internal loop, which will keep the connection to the LCU, reconnect if that connection is lost and receive messages. On top of that, if any event handlers are registered (via any register_* method), respective callbacks will be called from this thread. If no handlers are registered, all events are discarded.</p>
<p>Internal loop can be stopped by calling <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a7a01e1f6ea9dc64e77a164a362223fdb" title="Stops internal loop. Drops LCU connection (if such connection was established).">stop()</a> from another thread. </p>

</div>
</div>
<a id="a7a01e1f6ea9dc64e77a164a362223fdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a01e1f6ea9dc64e77a164a362223fdb">&#9670;&nbsp;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rito::Lcu_wamp_handler::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stops internal loop. Drops LCU connection (if such connection was established). </p>
<p>This method stops internal loop and drops LCU connection. It should be called from separate thread. If there is no existing loop running (i.e., none of threads called <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a167b789af96285015dc25de1720cabe7" title="Starts internal polling loop. Will not return unless stop() is called from another thread.">run()</a>), it does nothing. </p>

</div>
</div>
<a id="a8406334192c51749fd73ad54e2dfd3f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8406334192c51749fd73ad54e2dfd3f5">&#9670;&nbsp;</a></span>subscribe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool rito::Lcu_wamp_handler::subscribe </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends message of WAMP type SUBSCRIBE to the LCU (if it's connected). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>- name of the event to be subscribed for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if message is sent successfully, false otherwise.</dd></dl>
<p>This method sends message to LCU formatted as WAMP SUBSCRIBE message. If successful, it causes LCU to send events of requested type. They are reported via on_event callback.</p>
<p>This method should be called only if another thread has called <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a167b789af96285015dc25de1720cabe7" title="Starts internal polling loop. Will not return unless stop() is called from another thread.">run()</a>. If <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a167b789af96285015dc25de1720cabe7" title="Starts internal polling loop. Will not return unless stop() is called from another thread.">run()</a> was not called, there is no connection to LCU. Messages are not queued.</p>
<p>This method should be called from separate thread.</p>
<dl class="section note"><dt>Note</dt><dd>Do not call this method from callback functions registered for LCU connected and LCU disconnected events (via <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a73b2fdafb00f275401d4e9fd677fd70f" title="Registers callback function for LCU connected event.">register_on_connected_callback()</a> and <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a06e0495d5f6392f34fe6a25e169be891" title="Registers callback function for LCU disconnected event.">register_on_disconnected_callback()</a> methods). This will cause a deadlock.</dd>
<dd>
Subscription information is lost between sessions. If LCU is disconnected from and then connected to again, you'll need to subscribe to your events again. </dd></dl>

</div>
</div>
<a id="a29053ba3fb269bc603c53a982bfc176f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29053ba3fb269bc603c53a982bfc176f">&#9670;&nbsp;</a></span>unsubscribe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool rito::Lcu_wamp_handler::unsubscribe </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends message of WAMP type UNSUBSCRIBE to the LCU (if it's connected). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>- name of the event to be unsubscribed from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if message is sent successfully, false otherwise.</dd></dl>
<p>This method sends message to LCU formatted as WAMP UNSUBSCRIBE message. If successful, it causes LCU to stop sending events of requested type.</p>
<p>This method should be called only if another thread has called <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a167b789af96285015dc25de1720cabe7" title="Starts internal polling loop. Will not return unless stop() is called from another thread.">run()</a>. If <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a167b789af96285015dc25de1720cabe7" title="Starts internal polling loop. Will not return unless stop() is called from another thread.">run()</a> was not called, there is no connection to LCU. Messages are not queued.</p>
<p>This method should be called from separate thread.</p>
<dl class="section note"><dt>Note</dt><dd>Do not call this method from callback functions registered for LCU connected and LCU disconnected events (via <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a73b2fdafb00f275401d4e9fd677fd70f" title="Registers callback function for LCU connected event.">register_on_connected_callback()</a> and <a class="el" href="classrito_1_1Lcu__wamp__handler.html#a06e0495d5f6392f34fe6a25e169be891" title="Registers callback function for LCU disconnected event.">register_on_disconnected_callback()</a> methods). This will cause a deadlock. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/rito/<a class="el" href="lcu__wamp__handler_8h_source.html">lcu_wamp_handler.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
